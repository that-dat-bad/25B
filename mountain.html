<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C++ 4å¤§é‡è¦é …ç›® å¾¹åº•æ”»ç•¥ï¼ˆãƒ©ãƒ³ãƒ€ãƒ å‡ºé¡Œç‰ˆï¼‰</title>
    <style>
        :root {
            --bg-color: #f0f4f8;
            --text-color: #2d3436;
            --container-bg: #ffffff;
            --primary-color: #0984e3;
            --secondary-color: #00cec9;
            --border-color: #dfe6e9;
            --correct-bg: #dff9fb;
            --incorrect-bg: #ffcccc;
        }

        body {
            font-family: "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding-bottom: 80px;
        }

        .container {
            max-width: 900px;
            margin: 30px auto;
            background-color: var(--container-bg);
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #0984e3, #74b9ff);
            color: white;
            padding: 25px;
            text-align: center;
        }

        h1 { margin: 0; font-size: 1.6rem; }
        p.subtitle { margin-top: 5px; opacity: 0.9; font-size: 0.9rem; }

        /* ã‚¿ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .tabs {
            display: flex;
            background-color: #dfe6e9;
            border-bottom: 1px solid var(--border-color);
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            color: #636e72;
            transition: all 0.3s;
        }

        .tab.active {
            background-color: var(--container-bg);
            color: var(--primary-color);
            border-top: 4px solid var(--primary-color);
        }

        .tab:hover:not(.active) {
            background-color: #b2bec3;
            color: white;
        }

        /* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ */
        .content-area {
            padding: 30px;
            display: none;
        }

        .content-area.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        /* --- å˜èªé›†ã‚¹ã‚¿ã‚¤ãƒ« --- */
        h2 {
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 10px;
            color: var(--primary-color);
            margin-top: 40px;
        }
        
        h2:first-child { margin-top: 0; }

        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
            background: white;
        }

        .glossary-table th, .glossary-table td {
            padding: 12px 15px;
            border-bottom: 1px solid var(--border-color);
            text-align: left;
            vertical-align: top;
        }

        .glossary-table th {
            background-color: #f1f2f6;
            color: #2d3436;
            width: 30%;
            font-weight: bold;
        }

        .term {
            color: #d63031;
            font-family: Consolas, monospace;
            font-weight: bold;
            font-size: 1.1em;
        }

        /* --- ãƒ†ã‚¹ãƒˆã‚¹ã‚¿ã‚¤ãƒ« --- */
        .filter-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 6px 12px;
            border: 1px solid var(--primary-color);
            border-radius: 20px;
            background: white;
            color: var(--primary-color);
            cursor: pointer;
            font-size: 0.9rem;
        }

        .filter-btn.active {
            background: var(--primary-color);
            color: white;
        }

        .question-card {
            border: 1px solid var(--border-color);
            border-radius: 8px;
            margin-bottom: 20px;
            padding: 20px;
            background: white;
            transition: transform 0.2s;
        }

        .q-header {
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
        }

        .q-badge {
            background-color: var(--secondary-color);
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            margin-right: 10px;
            white-space: nowrap;
        }

        .answer-area {
            display: none;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px dashed #ccc;
        }

        .answer-area.show { display: block; }

        .ans-text {
            background-color: #f1f2f6;
            padding: 15px;
            border-radius: 6px;
            font-weight: bold;
            color: #2d3436;
            white-space: pre-wrap;
            line-height: 1.6;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.95em;
            margin-right: 10px;
            transition: opacity 0.2s;
            font-weight: bold;
        }
        .btn:hover { opacity: 0.8; }
        .btn-show { background-color: var(--primary-color); color: white; }
        .btn-ok { background-color: #00b894; color: white; }
        .btn-ng { background-color: #d63031; color: white; }
        .btn-reset { background-color: #636e72; color: white; }

        .status-correct { background-color: var(--correct-bg); border-color: #81ecec; }
        .status-incorrect { background-color: var(--incorrect-bg); border-color: #fab1a0; }

        /* ã‚¹ã‚³ã‚¢ãƒãƒ¼ */
        .score-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #2d3436;
            color: white;
            padding: 15px;
            text-align: center;
            display: flex;
            justify-content: center;
            gap: 50px;
            box-shadow: 0 -4px 10px rgba(0,0,0,0.1);
            z-index: 100;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>C++ 4å¤§é‡è¦é …ç›® å¾¹åº•æ”»ç•¥</h1>
        <p class="subtitle">ã‚³ãƒ³ãƒ†ãƒŠ / ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  / ãƒ©ãƒ ãƒ€å¼ / ã‚­ãƒ£ãƒ—ãƒãƒ£</p>
    </header>

    <div class="tabs">
        <div class="tab active" onclick="switchTab('glossary')">ğŸ“– çŸ¥è­˜ã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆï¼ˆå˜èªé›†ï¼‰</div>
        <div class="tab" onclick="switchTab('test')">ğŸ“ çŸ¥è­˜ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆï¼ˆç¢ºèªãƒ†ã‚¹ãƒˆï¼‰</div>
    </div>

    <div id="glossary" class="content-area active">
        
        <h2>1. ã‚³ãƒ³ãƒ†ãƒŠã‚¯ãƒ©ã‚¹ä¸€è¦§</h2>
        <p>ãƒ‡ãƒ¼ã‚¿ã‚’ç®¡ç†ã™ã‚‹ã€Œå…¥ã‚Œç‰©ã€ã€‚æ§‹é€ ã«ã‚ˆã£ã¦4ç¨®é¡ã«åˆ†é¡ã•ã‚Œã‚‹ã€‚</p>
        <table class="glossary-table">
            <tr><th colspan="2" style="background-color:#e1e1e1;">é…åˆ—ç³» (Sequence Containers)</th></tr>
            <tr><th><span class="term">std::vector</span></th><td><strong>å‹•çš„é…åˆ—</strong>ã€‚æœ€ã‚‚åŸºæœ¬çš„ã§ã‚ˆãä½¿ã‚ã‚Œã‚‹ã€‚ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ãŒé«˜é€Ÿã€‚</td></tr>
            <tr><th><span class="term">std::array</span></th><td><strong>å›ºå®šé•·é…åˆ—</strong>ã€‚ã‚µã‚¤ã‚ºå¤‰æ›´ä¸å¯ã€‚</td></tr>
            <tr><th><span class="term">std::deque</span></th><td><strong>ä¸¡ç«¯ã‚­ãƒ¥ãƒ¼</strong>ã€‚å…ˆé ­ã¨æœ«å°¾ã¸ã®è¿½åŠ ãƒ»å‰Šé™¤ãŒé«˜é€Ÿã€‚</td></tr>

            <tr><th colspan="2" style="background-color:#e1e1e1;">ãƒªã‚¹ãƒˆç³» (List Containers)</th></tr>
            <tr><th><span class="term">std::list</span></th><td><strong>åŒæ–¹å‘ãƒªã‚¹ãƒˆ</strong>ã€‚ä»»æ„ä½ç½®ã¸ã®æŒ¿å…¥ãƒ»å‰Šé™¤ãŒé«˜é€Ÿã€‚ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ä¸å¯ã€‚</td></tr>
            <tr><th><span class="term">std::forward_list</span></th><td><strong>å˜æ–¹å‘ãƒªã‚¹ãƒˆ</strong>ã€‚ãƒ¡ãƒ¢ãƒªåŠ¹ç‡ãŒè‰¯ã„ãŒã€ä¸€æ–¹å‘ã«ã—ã‹è¾¿ã‚Œãªã„ã€‚</td></tr>

            <tr><th colspan="2" style="background-color:#e1e1e1;">é€£æƒ³é…åˆ—ãƒ»é›†åˆç³» (Associative Containers)</th></tr>
            <tr><th><span class="term">std::map</span></th><td><strong>é€£æƒ³é…åˆ—</strong>ã€‚ã‚­ãƒ¼ã¨å€¤ã®ãƒšã‚¢ã‚’ä¿æŒã€‚ã‚­ãƒ¼ã§ã‚½ãƒ¼ãƒˆã•ã‚Œã‚‹ï¼ˆèµ¤é»’æœ¨ï¼‰ã€‚æ¤œç´¢ã¯ O(log N)ã€‚</td></tr>
            <tr><th><span class="term">std::multimap</span></th><td><strong>é‡è¤‡å¯èƒ½ãªé€£æƒ³é…åˆ—</strong>ã€‚åŒã˜ã‚­ãƒ¼ã‚’è¤‡æ•°æŒã¦ã‚‹ mapã€‚</td></tr>
            <tr><th><span class="term">std::set</span></th><td><strong>é †åºä»˜é›†åˆ</strong>ã€‚å€¤ãã®ã‚‚ã®ãŒã‚­ãƒ¼ã¨ãªã‚Šã€é‡è¤‡ã‚’è¨±ã•ãªã„ã€‚</td></tr>
            <tr><th><span class="term">std::multiset</span></th><td><strong>é‡è¤‡å¯èƒ½ãªé›†åˆ</strong>ï¼ˆå¤šé‡é›†åˆï¼‰ã€‚åŒã˜å€¤ã‚’è¤‡æ•°æŒã¦ã‚‹ setã€‚</td></tr>

            <tr><th colspan="2" style="background-color:#e1e1e1;">ãƒãƒƒã‚·ãƒ¥ç³» (Unordered Associative Containers)</th></tr>
            <tr><th><span class="term">std::unordered_map</span></th><td><strong>ãƒãƒƒã‚·ãƒ¥é€£æƒ³é…åˆ—</strong>ã€‚ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½¿ç”¨ã€‚ã‚½ãƒ¼ãƒˆã•ã‚Œãªã„ãŒæ¤œç´¢ã¯å¹³å‡ O(1)ã€‚</td></tr>
            <tr><th><span class="term">std::unordered_multimap</span></th><td><strong>ãƒãƒƒã‚·ãƒ¥é‡è¤‡å¯èƒ½é€£æƒ³é…åˆ—</strong>ã€‚</td></tr>
            <tr><th><span class="term">std::unordered_set</span></th><td><strong>ãƒãƒƒã‚·ãƒ¥é›†åˆ</strong>ã€‚</td></tr>
            <tr><th><span class="term">std::unordered_multiset</span></th><td><strong>ãƒãƒƒã‚·ãƒ¥é‡è¤‡å¯èƒ½é›†åˆ</strong>ã€‚</td></tr>
        </table>

        <h2>2. ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </h2>
        <p>ã‚³ãƒ³ãƒ†ãƒŠå†…ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ“ä½œã™ã‚‹é–¢æ•°ç¾¤ã€‚<code>#include &lt;algorithm&gt;</code> ãŒå¿…è¦ã€‚</p>
        <table class="glossary-table">
            <tr><th><span class="term">std::sort</span></th><td>è¦ç´ ã‚’ä¸¦ã¹æ›¿ãˆã‚‹ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯æ˜‡é †ã€‚<code>sort(v.begin(), v.end());</code></td></tr>
            <tr><th><span class="term">std::find</span></th><td>å€¤ã‚’æ¢ç´¢ã™ã‚‹ã€‚è¦‹ã¤ã‹ã‚‰ãªã„å ´åˆã¯ <code>end()</code> ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚¿ã‚’è¿”ã™ã€‚</td></tr>
            <tr><th><span class="term">std::count</span></th><td>æŒ‡å®šã—ãŸå€¤ã¨åŒã˜è¦ç´ ã®å€‹æ•°ã‚’æ•°ãˆã‚‹ã€‚</td></tr>
            <tr><th><span class="term">std::reverse</span></th><td>è¦ç´ ã®ä¸¦ã³é †ã‚’é€†è»¢ã•ã›ã‚‹ã€‚</td></tr>
            <tr><th><span class="term">std::for_each</span></th><td>ç¯„å›²å†…ã®å…¨è¦ç´ ã«å¯¾ã—ã¦ã€æŒ‡å®šã—ãŸé–¢æ•°ï¼ˆã¾ãŸã¯ãƒ©ãƒ ãƒ€å¼ï¼‰ã‚’å®Ÿè¡Œã™ã‚‹ã€‚</td></tr>
            <tr><th><span class="term">std::replace</span></th><td>æŒ‡å®šã—ãŸå€¤ã‚’ã€åˆ¥ã®å€¤ã«ç½®ãæ›ãˆã‚‹ã€‚</td></tr>
        </table>

        <h2>3. ãƒ©ãƒ ãƒ€å¼</h2>
        <p>é–¢æ•°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãã®å ´ã§å®šç¾©ã™ã‚‹æ©Ÿèƒ½ï¼ˆç„¡åé–¢æ•°ï¼‰ã€‚</p>
        <table class="glossary-table">
            <tr><th>åŸºæœ¬æ§‹æ–‡</th><td><code>[ã‚­ãƒ£ãƒ—ãƒãƒ£](å¼•æ•°) { å‡¦ç†å†…å®¹ }</code></td></tr>
            <tr><th>ä½¿ã„ã©ã“ã‚</th><td><code>std::sort</code> ã®æ¯”è¼ƒæ¡ä»¶ã‚„ã€<code>std::for_each</code> ã®å‡¦ç†å†…å®¹ãªã©ã€ä¸€æ™‚çš„ã«å¿…è¦ãªå°ã•ãªé–¢æ•°ã¨ã—ã¦åˆ©ç”¨ã€‚</td></tr>
            <tr><th>ãƒ¡ãƒªãƒƒãƒˆ</th><td>é–¢æ•°åã‚’è€ƒãˆã‚‹å¿…è¦ãŒãªã„ã€‚ã‚³ãƒ¼ãƒ‰ã®è¨˜è¿°å ´æ‰€ã¨å‡¦ç†å†…å®¹ãŒè¿‘ããªã‚Šå¯èª­æ€§ãŒä¸ŠãŒã‚‹ã€‚</td></tr>
        </table>

        <h2>4. å¤–éƒ¨å¤‰æ•°ã®ã‚­ãƒ£ãƒ—ãƒãƒ£</h2>
        <p>ãƒ©ãƒ ãƒ€å¼ã® <code>[]</code> ã®ä¸­ã«è¨˜è¿°ã—ã€ãƒ©ãƒ ãƒ€å¼ã®å¤–ã«ã‚ã‚‹å¤‰æ•°ã‚’å†…éƒ¨ã§ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹æ©Ÿèƒ½ã€‚</p>
        <table class="glossary-table">
            <tr><th><span class="term">[&]</span></th><td>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å¤–éƒ¨å¤‰æ•°ã‚’<strong>å‚ç…§</strong>ã¨ã—ã¦å–ã‚Šè¾¼ã‚€ã€‚ãƒ©ãƒ ãƒ€å†…ã§å¤‰æ›´ã™ã‚‹ã¨å…ƒã®å¤‰æ•°ã‚‚å¤‰ã‚ã‚‹ã€‚</td></tr>
            <tr><th><span class="term">[=]</span></th><td>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å¤–éƒ¨å¤‰æ•°ã‚’<strong>ã‚³ãƒ”ãƒ¼ï¼ˆå€¤ï¼‰</strong>ã¨ã—ã¦å–ã‚Šè¾¼ã‚€ã€‚ãƒ©ãƒ ãƒ€å†…ã§å¤‰æ›´ã—ã¦ã‚‚å…ƒã®å¤‰æ•°ã¯å¤‰ã‚ã‚‰ãªã„ã€‚</td></tr>
            <tr><th><span class="term">[&x]</span></th><td>å¤‰æ•° x ã ã‘ã‚’<strong>å‚ç…§</strong>ã§å–ã‚Šè¾¼ã‚€ã€‚</td></tr>
            <tr><th><span class="term">[x]</span></th><td>å¤‰æ•° x ã ã‘ã‚’<strong>ã‚³ãƒ”ãƒ¼</strong>ã§å–ã‚Šè¾¼ã‚€ã€‚</td></tr>
            <tr><th><span class="term">[&, x]</span></th><td>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯å‚ç…§ã ãŒã€å¤‰æ•° x ã ã‘ã¯<strong>ã‚³ãƒ”ãƒ¼</strong>ã§å–ã‚Šè¾¼ã‚€ã€‚</td></tr>
            <tr><th><span class="term">[=, &x]</span></th><td>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã‚³ãƒ”ãƒ¼ã ãŒã€å¤‰æ•° x ã ã‘ã¯<strong>å‚ç…§</strong>ã§å–ã‚Šè¾¼ã‚€ã€‚</td></tr>
            <tr><th><span class="term">[this]</span></th><td>ã‚¯ãƒ©ã‚¹ã®ãƒ¡ãƒ³ãƒå¤‰æ•°ã‚„é–¢æ•°ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã«ã€è‡ªèº«ã®ãƒã‚¤ãƒ³ã‚¿ã‚’å–ã‚Šè¾¼ã‚€ã€‚</td></tr>
            <tr><th><span class="term">[*this]</span></th><td>ã‚¯ãƒ©ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªä½“ã‚’<strong>ã‚³ãƒ”ãƒ¼</strong>ã—ã¦å–ã‚Šè¾¼ã‚€ï¼ˆéåŒæœŸå‡¦ç†ãªã©ã§å®‰å…¨æ€§ã‚’é«˜ã‚ã‚‹ãŸã‚ç­‰ã«ä½¿ç”¨ï¼‰ã€‚</td></tr>
        </table>
    </div>

    <div id="test" class="content-area">
        <div style="text-align:center; margin-bottom: 20px;">
            <p style="color:#666; font-size:0.9em; margin-bottom:10px;">â€»å•é¡Œã®é †ç•ªã¯æ¯å›ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã•ã‚Œã¾ã™</p>
            <button class="btn btn-reset" onclick="resetTest()">é€²æ—ã‚’ãƒªã‚»ãƒƒãƒˆï¼†ã‚·ãƒ£ãƒƒãƒ•ãƒ«</button>
        </div>

        <div class="filter-buttons">
            <button class="filter-btn active" onclick="filterQuiz('all')">ã™ã¹ã¦</button>
            <button class="filter-btn" onclick="filterQuiz('ã‚³ãƒ³ãƒ†ãƒŠ')">ã‚³ãƒ³ãƒ†ãƒŠ</button>
            <button class="filter-btn" onclick="filterQuiz('ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ')">ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </button>
            <button class="filter-btn" onclick="filterQuiz('ãƒ©ãƒ ãƒ€å¼')">ãƒ©ãƒ ãƒ€å¼</button>
            <button class="filter-btn" onclick="filterQuiz('ã‚­ãƒ£ãƒ—ãƒãƒ£')">ã‚­ãƒ£ãƒ—ãƒãƒ£</button>
        </div>
        
        <div id="quiz-container"></div>
    </div>
</div>

<div class="score-bar">
    <div>æ­£è§£æ•°: <span id="score-val" style="font-weight:bold; color:#00cec9; font-size:1.2em;">0</span></div>
    <div>é€²æ—ç‡: <span id="progress-val" style="font-weight:bold; font-size:1.2em;">0</span>%</div>
</div>

<script>
    // --- ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆ ---
    // ã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ‡ãƒ¼ã‚¿ï¼ˆã‚·ãƒ£ãƒƒãƒ•ãƒ«å‰ã®ãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ï¼‰
    const sourceData = [
        // ã‚³ãƒ³ãƒ†ãƒŠ
        { cat: "ã‚³ãƒ³ãƒ†ãƒŠ", q: "ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ãŒé«˜é€Ÿã§ã€ãƒ¡ãƒ¢ãƒªä¸Šã«é€£ç¶šã—ã¦é…ç½®ã•ã‚Œã‚‹ã‚³ãƒ³ãƒ†ãƒŠã¯ï¼Ÿ", a: "std::vector" },
        { cat: "ã‚³ãƒ³ãƒ†ãƒŠ", q: "ã‚µã‚¤ã‚ºãŒå›ºå®šã•ã‚Œã¦ãŠã‚Šå¤‰æ›´ã§ããªã„é…åˆ—ã‚³ãƒ³ãƒ†ãƒŠã¯ï¼Ÿ", a: "std::array" },
        { cat: "ã‚³ãƒ³ãƒ†ãƒŠ", q: "å…ˆé ­ã¨æœ«å°¾ã¸ã®è¿½åŠ ãƒ»å‰Šé™¤ãŒé«˜é€Ÿãªä¸¡ç«¯ã‚­ãƒ¥ãƒ¼ã‚³ãƒ³ãƒ†ãƒŠã¯ï¼Ÿ", a: "std::deque" },
        { cat: "ã‚³ãƒ³ãƒ†ãƒŠ", q: "ä»»æ„ã®ä½ç½®ã¸ã®æŒ¿å…¥ãƒ»å‰Šé™¤ã¯é«˜é€Ÿã ãŒã€ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ã‚¯ã‚»ã‚¹ãŒã§ããªã„åŒæ–¹å‘ãƒªã‚¹ãƒˆã¯ï¼Ÿ", a: "std::list" },
        { cat: "ã‚³ãƒ³ãƒ†ãƒŠ", q: "ä¸€æ–¹å‘ã«ã—ã‹è¾¿ã‚Œãªã„ãƒªã‚¹ãƒˆã‚³ãƒ³ãƒ†ãƒŠã¯ï¼Ÿ", a: "std::forward_list" },
        { cat: "ã‚³ãƒ³ãƒ†ãƒŠ", q: "ã‚­ãƒ¼ã¨å€¤ã®ãƒšã‚¢ã§ç®¡ç†ã•ã‚Œã€ã‚­ãƒ¼ã§è‡ªå‹•çš„ã«ã‚½ãƒ¼ãƒˆã•ã‚Œã‚‹ã‚³ãƒ³ãƒ†ãƒŠã¯ï¼Ÿ", a: "std::map" },
        { cat: "ã‚³ãƒ³ãƒ†ãƒŠ", q: "é‡è¤‡ã™ã‚‹ã‚­ãƒ¼ã‚’æŒã¤ã“ã¨ãŒã§ãã‚‹é€£æƒ³é…åˆ—ã‚³ãƒ³ãƒ†ãƒŠã¯ï¼Ÿ", a: "std::multimap" },
        { cat: "ã‚³ãƒ³ãƒ†ãƒŠ", q: "ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½¿ç”¨ã—ã€æ¤œç´¢é€Ÿåº¦ãŒå¹³å‡O(1)ã¨éå¸¸ã«é«˜é€Ÿãªé€£æƒ³é…åˆ—ã¯ï¼Ÿ", a: "std::unordered_map" },
        { cat: "ã‚³ãƒ³ãƒ†ãƒŠ", q: "é‡è¤‡ã™ã‚‹å€¤ã‚’æŒã¦ãªã„é †åºä»˜ãé›†åˆã‚³ãƒ³ãƒ†ãƒŠã¯ï¼Ÿ", a: "std::set" },
        { cat: "ã‚³ãƒ³ãƒ†ãƒŠ", q: "std::vectorã®è¦ç´ æ•°ã‚’å¤‰æ›´ã—ã€å¿…è¦ãªã‚‰åˆæœŸåŒ–ã‚‚è¡Œã†ãƒ¡ãƒ³ãƒé–¢æ•°ã¯ï¼Ÿ", a: "resize()" },

        // ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
        { cat: "ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ", q: "ã‚³ãƒ³ãƒ†ãƒŠã®è¦ç´ ã‚’æ˜‡é †ã«ä¸¦ã¹æ›¿ãˆã‚‹é–¢æ•°ã¯ï¼Ÿ", a: "std::sort()" },
        { cat: "ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ", q: "æŒ‡å®šã—ãŸå€¤ã‚’æ¢ç´¢ã—ã€è¦‹ã¤ã‹ã‚‰ãªã‘ã‚Œã° end() ã‚’è¿”ã™é–¢æ•°ã¯ï¼Ÿ", a: "std::find()" },
        { cat: "ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ", q: "æ¡ä»¶ã«ä¸€è‡´ã™ã‚‹è¦ç´ ã®å€‹æ•°ã‚’æ•°ãˆã‚‹é–¢æ•°ã¯ï¼Ÿ", a: "std::count()" },
        { cat: "ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ", q: "è¦ç´ ã®ä¸¦ã³é †ã‚’åè»¢ã•ã›ã‚‹é–¢æ•°ã¯ï¼Ÿ", a: "std::reverse()" },
        { cat: "ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ", q: "ç¯„å›²å†…ã®å…¨è¦ç´ ã«å¯¾ã—ã¦ã€æŒ‡å®šã—ãŸå‡¦ç†ã‚’é †æ¬¡å®Ÿè¡Œã™ã‚‹é–¢æ•°ã¯ï¼Ÿ", a: "std::for_each()" },
        { cat: "ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ", q: "ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã«å¿…è¦ãªãƒ˜ãƒƒãƒ€ã¯ï¼Ÿ", a: "#include algorithm" },

        // ãƒ©ãƒ ãƒ€å¼
        { cat: "ãƒ©ãƒ ãƒ€å¼", q: "ãƒ©ãƒ ãƒ€å¼ã®æ§‹æ–‡ã«ãŠã‘ã‚‹3ã¤ã®æ‹¬å¼§ [] () {} ã®ãã‚Œãã‚Œã®å½¹å‰²ã¯ï¼Ÿ", a: "[]: ã‚­ãƒ£ãƒ—ãƒãƒ£ (å¤–éƒ¨å¤‰æ•°ã®å–ã‚Šè¾¼ã¿)\n(): å¼•æ•° (ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿)\n{}: é–¢æ•°æœ¬ä½“" },
        { cat: "ãƒ©ãƒ ãƒ€å¼", q: "ãƒ©ãƒ ãƒ€å¼ã¯ã€Œåå‰ã®ãªã„é–¢æ•°ã€ã§ã‚ã‚‹ã“ã¨ã‹ã‚‰ã€åˆ¥åä½•ã¨å‘¼ã°ã‚Œã‚‹ã‹ï¼Ÿ", a: "ç„¡åé–¢æ•°" },
        { cat: "ãƒ©ãƒ ãƒ€å¼", q: "std::sort ã®ç¬¬3å¼•æ•°ã«ãƒ©ãƒ ãƒ€å¼ã‚’æ¸¡ã™ä¸»ãªç›®çš„ã¯ï¼Ÿ", a: "ä¸¦ã¹æ›¿ãˆã®æ¯”è¼ƒæ¡ä»¶ï¼ˆé™é †ã«ã™ã‚‹ãªã©ï¼‰ã‚’æŒ‡å®šã™ã‚‹ãŸã‚" },

        // ã‚­ãƒ£ãƒ—ãƒãƒ£
        { cat: "ã‚­ãƒ£ãƒ—ãƒãƒ£", q: "å¤–éƒ¨å¤‰æ•°ã‚’ã€Œã‚³ãƒ”ãƒ¼ï¼ˆå€¤ï¼‰ã€ã¨ã—ã¦å–ã‚Šè¾¼ã‚€éš›ã®è¨˜è¿°ã¯ï¼Ÿ", a: "[=]" },
        { cat: "ã‚­ãƒ£ãƒ—ãƒãƒ£", q: "å¤–éƒ¨å¤‰æ•°ã‚’ã€Œå‚ç…§ã€ã¨ã—ã¦å–ã‚Šè¾¼ã‚€éš›ã®è¨˜è¿°ã¯ï¼Ÿ", a: "[&]" },
        { cat: "ã‚­ãƒ£ãƒ—ãƒãƒ£", q: "ç‰¹å®šã®å¤‰æ•° x ã ã‘ã‚’å‚ç…§ã§å–ã‚Šè¾¼ã¿ãŸã„å ´åˆã®è¨˜è¿°ã¯ï¼Ÿ", a: "[&x]" },
        { cat: "ã‚­ãƒ£ãƒ—ãƒãƒ£", q: "ã€Œãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯å‚ç…§ã‚­ãƒ£ãƒ—ãƒãƒ£ã ãŒã€å¤‰æ•° x ã ã‘ã¯ã‚³ãƒ”ãƒ¼ã‚­ãƒ£ãƒ—ãƒãƒ£ã€ã¨ã™ã‚‹è¨˜è¿°ã¯ï¼Ÿ", a: "[&, x]" },
        { cat: "ã‚­ãƒ£ãƒ—ãƒãƒ£", q: "ã€Œãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ã‚³ãƒ”ãƒ¼ã‚­ãƒ£ãƒ—ãƒãƒ£ã ãŒã€å¤‰æ•° x ã ã‘ã¯å‚ç…§ã‚­ãƒ£ãƒ—ãƒãƒ£ã€ã¨ã™ã‚‹è¨˜è¿°ã¯ï¼Ÿ", a: "[=, &x]" },
        { cat: "ã‚­ãƒ£ãƒ—ãƒãƒ£", q: "ã‚¯ãƒ©ã‚¹ã®ãƒ¡ãƒ³ãƒå¤‰æ•°ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã«å¿…è¦ãªã‚­ãƒ£ãƒ—ãƒãƒ£ã¯ï¼Ÿ", a: "[this]" },
        { cat: "ã‚­ãƒ£ãƒ—ãƒãƒ£", q: "[=] ã§ã‚­ãƒ£ãƒ—ãƒãƒ£ã—ãŸå ´åˆã€å…ƒã®å¤‰æ•°ã¯å¤‰æ›´ã§ãã‚‹ã‹ï¼Ÿ", a: "ã§ããªã„ï¼ˆã‚³ãƒ”ãƒ¼ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€å…ƒã®å¤‰æ•°ã«ã¯å½±éŸ¿ã—ãªã„ï¼‰" }
    ];

    // --- ãƒ­ã‚¸ãƒƒã‚¯ ---
    let quizData = []; // ã‚·ãƒ£ãƒƒãƒ•ãƒ«å¾Œã®ãƒ‡ãƒ¼ã‚¿ãŒå…¥ã‚‹
    let correctCount = 0;
    let answeredCount = 0;
    let currentFilter = 'all';

    // é…åˆ—ã‚·ãƒ£ãƒƒãƒ•ãƒ«é–¢æ•° (Fisher-Yates)
    function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function initTest() {
        // ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã‚·ãƒ£ãƒƒãƒ•ãƒ«
        quizData = [...sourceData];
        shuffle(quizData);
        renderQuiz();
    }

    function renderQuiz() {
        const container = document.getElementById('quiz-container');
        container.innerHTML = '';

        quizData.forEach((item, index) => {
            // ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å‡¦ç†
            if (currentFilter !== 'all' && item.cat !== currentFilter) {
                return;
            }

            const card = document.createElement('div');
            card.className = 'question-card';
            card.id = `q-${index}`;
            card.innerHTML = `
                <div class="q-header">
                    <span class="q-badge">${item.cat}</span>
                    <span>Q. ${item.q}</span>
                </div>
                <div class="btn-group">
                    <button class="btn btn-show" onclick="showAnswer(${index})">è§£ç­”ã‚’è¡¨ç¤º</button>
                </div>
                <div class="answer-area" id="ans-${index}">
                    <div class="ans-text">${item.a}</div>
                    <div style="margin-top:15px;">
                        <button class="btn btn-ok" onclick="markResult(${index}, true)">ã€‡ æ­£è§£</button>
                        <button class="btn btn-ng" onclick="markResult(${index}, false)">Ã— å¾©ç¿’</button>
                    </div>
                </div>
            `;
            container.appendChild(card);
        });
    }

    function switchTab(tabName) {
        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
        event.target.classList.add('active');
        document.querySelectorAll('.content-area').forEach(c => c.classList.remove('active'));
        document.getElementById(tabName).classList.add('active');
    }

    function filterQuiz(category) {
        currentFilter = category;
        // ãƒœã‚¿ãƒ³ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–åˆ‡ã‚Šæ›¿ãˆ
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.classList.remove('active');
            if(btn.innerText === (category === 'all' ? 'ã™ã¹ã¦' : category)) {
                btn.classList.add('active');
            }
        });
        renderQuiz();
    }

    function showAnswer(idx) {
        document.getElementById(`ans-${idx}`).classList.add('show');
        document.querySelector(`#q-${idx} .btn-show`).style.display = 'none';
    }

    function markResult(idx, isCorrect) {
        const card = document.getElementById(`q-${idx}`);
        
        // çŠ¶æ…‹ç®¡ç†ï¼ˆã‚¹ã‚³ã‚¢è¨ˆç®—ï¼‰
        const wasCorrect = card.classList.contains('status-correct');
        const wasIncorrect = card.classList.contains('status-incorrect');
        const isFirstAnswer = !wasCorrect && !wasIncorrect;

        if (isFirstAnswer) {
            answeredCount++;
            if (isCorrect) correctCount++;
        } else {
            // è¨‚æ­£ãƒ­ã‚¸ãƒƒã‚¯
            if (wasCorrect && !isCorrect) correctCount--;
            if (wasIncorrect && isCorrect) correctCount++;
        }

        // ã‚¯ãƒ©ã‚¹ã®ä»˜ã‘æ›¿ãˆ
        card.classList.remove('status-correct', 'status-incorrect');
        card.classList.add(isCorrect ? 'status-correct' : 'status-incorrect');

        updateScore();
    }

    function updateScore() {
        document.getElementById('score-val').textContent = correctCount;
        // åˆ†æ¯ã¯ç¾åœ¨ã®å…¨ãƒ‡ãƒ¼ã‚¿æ•°ï¼ˆãƒ•ã‚£ãƒ«ã‚¿ã«é–¢ã‚ã‚‰ãšå…¨æ•°ã¨ã™ã‚‹ï¼‰
        const rate = quizData.length > 0 ? Math.round((correctCount / quizData.length) * 100) : 0;
        document.getElementById('progress-val').textContent = rate;
    }

    function resetTest() {
        if(confirm("ãƒ†ã‚¹ãƒˆã®é€²æ—ã‚’ãƒªã‚»ãƒƒãƒˆã—ã€å•é¡Œã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã¾ã™ã‹ï¼Ÿ")) {
            correctCount = 0;
            answeredCount = 0;
            updateScore();
            initTest(); // å†ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã¦å†æç”»
        }
    }

    window.onload = initTest;
</script>

</body>
</html>